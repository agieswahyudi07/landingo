{"version":3,"mappings":";qcA8BA,MAAMA,EAAQC,EAeRC,EAAqBC,EAAI,IAAI,EAC7BC,EAAmBD,EAAI,IAAI,EAC3BE,EAAQF,EAAI,GAAI,EAChBG,EAAiBH,EAAI,IAAI,EACzBI,EAAkBJ,EAAI,GAAG,EAGzBK,87CAEAC,EAAgB,SAAY,CAIhC,GAFAL,EAAiB,MAAQ,KAErB,EAACJ,EAAM,cAEX,GAAI,CAEF,MAAMU,EAAY,OAAO,KAAKF,CAAO,EAAE,KAAKG,GAC1CA,EAAK,SAAS,IAAIX,EAAM,aAAa,MAAM,CACjD,EAEI,GAAIU,EAAW,CACb,MAAME,EAAkB,MAAMJ,EAAQE,CAAS,EAAC,EAChDN,EAAiB,MAAQQ,EAAgB,QAIzC,MAAMC,EAAY,KACZC,EAAa,KAEbC,EAASf,EAAM,MAAQa,EACvBG,EAAShB,EAAM,OAASc,EAC9BT,EAAM,MAAQ,KAAK,IAAIU,EAAQC,CAAM,EAAI,GAEzCV,EAAe,MAAQN,EAAM,MAAQK,EAAM,MAC3CE,EAAgB,MAAQP,EAAM,OAASK,EAAM,KACnD,MACM,QAAQ,KAAK,gCAAgCL,EAAM,aAAa,EAAE,CAExE,OAAWiB,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,EACvDb,EAAiB,MAAQ,IAC7B,CACA,EAGAc,EAAM,IAAMlB,EAAM,cAAe,IAAM,CACrCS,GACF,EAAG,CAAE,UAAW,EAAK,CAAE,EAEvBU,EAAU,IAAM,CACdV,GACF,CAAC,EAEDW,EAAY,IAAM,CAEhBhB,EAAiB,MAAQ,IAC3B,CAAC,6QArGMiB,EAAA,OAAM,0BAA0B,EAgBxBC,EAAA,OAAM,qBAAqB,0BAhBxC,OAAAC,EAAA,EAAAC,EAsBM,MAtBNH,EAsBM,CArBJI,EAoBM,OAnBJ,IAAI,qBACJ,MAAM,sBACL,MAAKC,EAAA,oBAAkCC,EAAA,KAAK,wCAA8DA,EAAA,cAAc,eAA0BA,EAAA,eAAe,cAOlKC,EASWC,EAAA,MARE,UACT,IAA4D,CAA3CF,EAAA,kBAAjBJ,EAAA,EAAAK,EAA4DE,EAApBH,EAAA,gBAAgB,uBAE/C,WACT,IAEM,CAFNF,EAEM,MAFNH,EAEM,CADJS,EAA8DJ,EAAA,MAAxD,KAAK,cAAc,MAAM","names":["props","__props","thumbnailContainer","ref","previewComponent","scale","containerWidth","containerHeight","modules","loadComponent","moduleKey","path","componentModule","baseWidth","baseHeight","scaleX","scaleY","error","watch","onMounted","onUnmounted","_hoisted_1","_hoisted_2","_openBlock","_createElementBlock","_createElementVNode","_normalizeStyle","$setup","_createBlock","_Suspense","_resolveDynamicComponent","_createVNode"],"ignoreList":[],"sources":["../../src/components/preview/DesignThumbnail.vue"],"sourcesContent":["<template>\r\n  <div class=\"design-thumbnail-wrapper\">\r\n    <div \r\n      ref=\"thumbnailContainer\" \r\n      class=\"thumbnail-container\"\r\n      :style=\"{ \r\n        transform: `scale(${scale})`,\r\n        transformOrigin: 'top left',\r\n        width: `${containerWidth}px`,\r\n        height: `${containerHeight}px`\r\n      }\"\r\n    >\r\n      <Suspense>\r\n        <template #default>\r\n          <component v-if=\"previewComponent\" :is=\"previewComponent\" />\r\n        </template>\r\n        <template #fallback>\r\n          <div class=\"loading-placeholder\">\r\n            <Icon icon=\"mdi:loading\" class=\"animate-spin text-gray-400\" />\r\n          </div>\r\n        </template>\r\n      </Suspense>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, watch, onUnmounted } from 'vue';\r\nimport { Icon } from '@iconify/vue';\r\n\r\nconst props = defineProps({\r\n  componentName: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  width: {\r\n    type: Number,\r\n    default: 400\r\n  },\r\n  height: {\r\n    type: Number,\r\n    default: 300\r\n  }\r\n});\r\n\r\nconst thumbnailContainer = ref(null);\r\nconst previewComponent = ref(null);\r\nconst scale = ref(0.25); // Scale down to 25% for thumbnail\r\nconst containerWidth = ref(1600); // Base width for desktop design\r\nconst containerHeight = ref(900); // Base height for desktop design\r\n\r\n// Load all preview components eagerly/lazily\r\nconst modules = import.meta.glob('@/components/previews/*.vue');\r\n\r\nconst loadComponent = async () => {\r\n  // Reset component first to ensure clean state\r\n  previewComponent.value = null;\r\n  \r\n  if (!props.componentName) return;\r\n\r\n  try {\r\n    // Find the matching module key\r\n    const moduleKey = Object.keys(modules).find(path => \r\n      path.includes(`/${props.componentName}.vue`)\r\n    );\r\n\r\n    if (moduleKey) {\r\n      const componentModule = await modules[moduleKey]();\r\n      previewComponent.value = componentModule.default;\r\n      \r\n      // Calculate scale based on thumbnail size\r\n      // Most landing pages are designed for ~1920px width\r\n      const baseWidth = 1920;\r\n      const baseHeight = 1080;\r\n      \r\n      const scaleX = props.width / baseWidth;\r\n      const scaleY = props.height / baseHeight;\r\n      scale.value = Math.min(scaleX, scaleY) * 0.8; // Add some padding\r\n      \r\n      containerWidth.value = props.width / scale.value;\r\n      containerHeight.value = props.height / scale.value;\r\n    } else {\r\n      console.warn(`Preview component not found: ${props.componentName}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error loading preview component:', error);\r\n    previewComponent.value = null;\r\n  }\r\n};\r\n\r\n// Watch for componentName changes\r\nwatch(() => props.componentName, () => {\r\n  loadComponent();\r\n}, { immediate: false });\r\n\r\nonMounted(() => {\r\n  loadComponent();\r\n});\r\n\r\nonUnmounted(() => {\r\n  // Cleanup: reset component to ensure proper unmounting\r\n  previewComponent.value = null;\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.design-thumbnail-wrapper {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background: white;\r\n}\r\n\r\n.thumbnail-container {\r\n  position: relative;\r\n  pointer-events: none;\r\n  user-select: none;\r\n}\r\n\r\n.loading-placeholder {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f3f4f6;\r\n}\r\n\r\n/* Disable all interactions in thumbnail */\r\n.thumbnail-container :deep(*) {\r\n  pointer-events: none !important;\r\n  cursor: default !important;\r\n}\r\n\r\n/* Optimize rendering for thumbnail */\r\n.thumbnail-container :deep(img),\r\n.thumbnail-container :deep(video),\r\n.thumbnail-container :deep(iframe) {\r\n  image-rendering: -webkit-optimize-contrast;\r\n  image-rendering: crisp-edges;\r\n}\r\n\r\n/* Hide scrollbars */\r\n.thumbnail-container :deep(*) {\r\n  scrollbar-width: none;\r\n  -ms-overflow-style: none;\r\n}\r\n\r\n.thumbnail-container :deep(*)::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* Reduce animations for better performance */\r\n.thumbnail-container :deep(*) {\r\n  animation-duration: 0s !important;\r\n  animation-delay: 0s !important;\r\n  transition-duration: 0s !important;\r\n}\r\n</style>\r\n\r\n"],"file":"_astro/DesignThumbnail.RVrIOu2g.js"}