---
import { Icon } from '@iconify/vue';
---

<section 
  id="cta"
  class="relative min-h-screen flex flex-col text-white body-font justify-center overflow-hidden"
>
  <!-- Modern gradient background -->
  <div class="absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 z-0"></div>
  <div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_70%)] z-0"></div>
  
  <!-- Animated background elements -->
  <div class="absolute top-20 left-20 w-96 h-96 bg-white/10 rounded-full mix-blend-overlay filter blur-3xl animate-blob"></div>
  <div class="absolute bottom-20 right-20 w-96 h-96 bg-white/10 rounded-full mix-blend-overlay filter blur-3xl animate-blob animation-delay-2000"></div>
  
  <!-- Wave divider -->
  <div class="custom-shape-divider-top-1758725921">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
      <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
    </svg>
  </div>
  
  <div class="relative z-10 container px-5 py-12 sm:py-16 md:py-24 mx-auto mt-16 sm:mt-20 md:mt-0">
    <div class="flex flex-col text-center w-full max-w-4xl mx-auto">
      
      <!-- Badge -->
      <div class="inline-flex items-center gap-2 px-4 py-2 mb-6 rounded-full bg-white/20 backdrop-blur-sm text-white text-sm font-semibold mx-auto">
        <Icon icon="mdi:rocket-launch" class="text-yellow-300" client:load />
        Mulai Hari Ini, Online Besok
      </div>
      
      <h2 class="sm:text-5xl text-4xl font-extrabold title-font mb-6 leading-tight">
        Siap Transformasi Bisnis Anda?
      </h2>

      <p class="lg:w-3/4 mx-auto text-lg leading-relaxed text-white/90 mb-4">
        Jangan biarkan kompetitor mendahului Anda. Landing page profesional adalah investasi pertama untuk sukses online. 
        <strong class="text-white">Mulai dari Rp 999rb</strong>, bisnis Anda bisa tampil profesional dan mulai jualan online.
      </p>
      
      <!-- Benefits list -->
      <div class="flex flex-wrap justify-center gap-6 mb-10 text-sm text-white/80">
        <div class="flex items-center gap-2">
          <Icon icon="mdi:check-circle" class="text-green-300 text-xl" client:load />
          <span>Konsultasi Gratis</span>
        </div>
        <div class="flex items-center gap-2">
          <Icon icon="mdi:check-circle" class="text-green-300 text-xl" client:load />
          <span>Setup Lengkap</span>
        </div>
        <div class="flex items-center gap-2">
          <Icon icon="mdi:check-circle" class="text-green-300 text-xl" client:load />
          <span>Support Terpercaya</span>
        </div>
      </div>

      <div class="mt-6">
        <div class="flex flex-col items-center">
          <button 
            id="cta-whatsapp-button"
            class="cursor-pointer cta-button w-full sm:w-auto px-8 py-2 rounded-full bg-[#25D366] text-white font-semibold text-lg shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105"
            aria-label="Konsultasi gratis via WhatsApp untuk pembuatan landing page"
          >
            <span class="flex items-center justify-center gap-2 px-4">
              <span class="text-base sm:text-lg font-semibold">Konsultasi Gratis via WhatsApp</span>
              <Icon icon="mdi:whatsapp" width="24" class="flex-shrink-0" client:load />
            </span>
          </button>
          <p class="mt-4 text-sm text-white/70 text-center px-4 max-w-md">
            Respon cepat dalam 1 jam kerja â€¢ Tanpa komitmen
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes blob {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .custom-shape-divider-top-1758725921 {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    overflow: hidden;
    line-height: 0;
    z-index: 1;
    pointer-events: none;
  }

  .custom-shape-divider-top-1758725921 svg {
    position: relative;
    display: block;
    width: calc(103% + 1.3px);
    height: 254px;
  }

  .custom-shape-divider-top-1758725921 .shape-fill {
    fill: #FFFFFF;
  }

  @media (max-width: 767px) {
    .custom-shape-divider-top-1758725921 svg {
      width: calc(176% + 1.3px);
      height: 200px;
      transform: translateY(-50px);
    }
  }

  @media (max-width: 480px) {
    .custom-shape-divider-top-1758725921 svg {
      height: 150px;
      transform: translateY(-30px);
    }
  }
</style>

<script>
  const redirectToWhatsApp = () => {
    const phoneNumber = '6285183077289'; 
    const defaultMessage = 'Halo! Saya siap untuk upgrade bisnis saya dengan landing page profesional dari Landingo. Bisa kita diskusikan lebih detail?';
    const encodedMessage = encodeURIComponent(defaultMessage);
    const whatsappUrl = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedMessage}`;
    window.open(whatsappUrl, '_blank');
  };

  document.getElementById('cta-whatsapp-button')?.addEventListener('click', redirectToWhatsApp);
</script>

